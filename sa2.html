<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SA2: Programació Orientada a Objectes (POO)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .code-block {
            background-color: #1E293B; /* slate-800 */
            color: #E2E8F0; /* slate-200 */
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">

        <!-- Header -->
        <header class="bg-[#2156A0] text-white p-6 rounded-xl shadow-lg mb-8">
            <h1 class="text-3xl md:text-4xl font-bold">Situació d'Aprenentatge 2: Programació Orientada a Objectes</h1>
            <p class="mt-2 text-blue-200">Una nova manera de pensar i organitzar el nostre codi.</p>
        </header>

        <main class="space-y-12">

            <!-- Secció 1: Introducció a la POO -->
            <section id="intro-poo">
                <h2 class="text-2xl font-bold text-[#2156A0] border-b-2 border-[#4FCCE8] pb-2 mb-4">1. Què és la Programació Orientada a Objectes (POO)?</h2>
                <div class="space-y-6 bg-white p-6 rounded-lg shadow">
                    <p>Fins ara hem treballat de manera **procedimental**: donant una llista d'instruccions a l'ordinador, una darrere l'altra. La POO ens proposa una nova manera de pensar: organitzar el nostre codi al voltant d'<strong>objectes</strong>, que representen coses del món real (o conceptes abstractes).</p>
                    <p>Pensa en un cotxe. Un cotxe té <strong>característiques</strong> (color, marca, velocitat màxima) i pot fer <strong>accions</strong> (accelerar, frenar, girar). A la POO:</p>
                    <ul class="list-disc list-inside mt-2 space-y-1">
                        <li>Les característiques s'anomenen <strong class="font-semibold">atributs</strong>.</li>
                        <li>Les accions s'anomenen <strong class="font-semibold">mètodes</strong>.</li>
                    </ul>
                    <div class="mt-4 p-4 bg-blue-50 border-l-4 border-blue-500 text-blue-800 rounded-r-lg">
                        La POO ens ajuda a crear codi més organitzat, reutilitzable i fàcil de mantenir, especialment en projectes grans i complexos.
                    </div>
                </div>
            </section>

            <!-- Secció 2: Classes i Objectes -->
            <section id="classes-objectes">
                <h2 class="text-2xl font-bold text-[#2156A0] border-b-2 border-[#4FCCE8] pb-2 mb-4">2. Classes, Atributs i Mètodes</h2>
                <div class="space-y-6 bg-white p-6 rounded-lg shadow">
                    <div>
                        <h3 class="text-xl font-semibold mb-2">2.1. Classes i Objectes</h3>
                        <p>Una <strong class="font-semibold">classe</strong> és com un plànol o una plantilla per crear objectes. Defineix quins atributs i mètodes tindran els objectes d'aquest tipus. Un <strong class="font-semibold">objecte</strong> (o instància) és la creació concreta a partir d'aquesta plantilla.</p>
                        <p class="mt-2">Per exemple, podríem tenir una classe `Gos` i crear diferents objectes a partir d'ella: `fido = Gos()`, `taca = Gos()`.</p>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-2">2.2. Implementació: Constructors, Atributs i Mètodes</h3>
                        <p>Anem a crear una classe `Estudiant` a Python. Per fer-ho, necessitem:</p>
                        <ul class="list-disc list-inside mt-2 space-y-1">
                            <li><strong class="font-semibold">Constructor (`__init__`):</strong> És un mètode especial que s'executa automàticament quan creem un nou objecte. Serveix per inicialitzar els seus atributs.</li>
                            <li><strong class="font-semibold">Atributs:</strong> Variables associades a l'objecte (p.ex., `self.nom`, `self.casa`).</li>
                            <li><strong class="font-semibold">Mètodes:</strong> Funcions que pertanyen a la classe i defineixen el seu comportament.</li>
                        </ul>
                        <div class="code-block mt-4">
<pre><code>class Estudiant:
    # 1. Constructor: defineix els atributs inicials
    def __init__(self, nom, casa):
        # Validació de dades
        if not nom:
            raise ValueError("El nom no pot estar buit")
        
        self.nom = nom      # Atribut 'nom'
        self.casa = casa    # Atribut 'casa'

    # 2. Mètode: defineix una acció que pot fer l'objecte
    def presentar(self):
        return f"Hola, sóc {self.nom} de la casa {self.casa}!"

# Creem dos objectes (instàncies) de la classe Estudiant
harry = Estudiant("Harry", "Gryffindor")
draco = Estudiant("Draco", "Slytherin")

# Cridem al seu mètode 'presentar'
print(harry.presentar())
print(draco.presentar())
</code></pre>
                        </div>
                    </div>
                     <div>
                        <h3 class="text-xl font-semibold mt-6 mb-2">2.3. Diagrames de Classes (UML)</h3>
                        <p>Abans de programar, és molt útil dissenyar les nostres classes visualment. Per a això fem servir els <strong class="font-semibold">diagrames de classes UML</strong>, que són un estàndard per representar l'estructura del nostre sistema.</p>
                        <p class="mt-2">Un diagrama de classe bàsic té tres parts:</p>
                        <ol class="list-decimal list-inside mt-1 space-y-1">
                            <li><strong>Nom de la classe.</strong></li>
                            <li><strong>Atributs</strong> (amb el seu tipus de dada).</li>
                            <li><strong>Mètodes</strong> (amb els seus paràmetres i el que retornen).</li>
                        </ol>
                        <div class="mt-4 p-4 border border-slate-200 rounded-lg text-center">
                            <img src="https://i.imgur.com/vHqYf2T.png" alt="Diagrama de classe UML per a Estudiant" class="mx-auto max-w-xs w-full h-auto rounded">
                            <p class="text-sm text-slate-500 mt-2">Exemple de diagrama de classes per a la nostra classe `Estudiant`.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Secció 3: Herència -->
            <section id="herencia">
                <h2 class="text-2xl font-bold text-[#2156A0] border-b-2 border-[#4FCCE8] pb-2 mb-4">3. Herència: Superclasses i Subclasses</h2>
                <div class="space-y-6 bg-white p-6 rounded-lg shadow">
                    <p>L'herència és un dels pilars de la POO. Permet crear una nova classe (anomenada <strong class="font-semibold">subclasse</strong> o classe filla) que hereta tots els atributs i mètodes d'una altra classe existent (la <strong class="font-semibold">superclasse</strong> o classe pare).</p>
                    <p>Això evita repetir codi. Per exemple, tant un `Estudiant` com un `Professor` són `Mags`. Tots dos tenen un nom. Podem crear una superclasse `Mag` i fer que les altres heretin d'ella.</p>
                    <div class="code-block mt-4">
<pre><code># Superclasse (Pare)
class Mag:
    def __init__(self, nom):
        if not nom:
            raise ValueError("El nom no pot estar buit")
        self.nom = nom

    def saludar(self):
        return f"Hola, el meu nom és {self.nom}."

# Subclasse (Filla) que hereta de Mag
class Estudiant(Mag):
    def __init__(self, nom, casa):
        super().__init__(nom)  # Cridem al constructor de la superclasse
        self.casa = casa

# Subclasse (Filla) que hereta de Mag
class Professor(Mag):
    def __init__(self, nom, assignatura):
        super().__init__(nom) # Cridem al constructor de la superclasse
        self.assignatura = assignatura

# Creem objectes
estudiant = Estudiant("Harry", "Gryffindor")
professor = Professor("Snape", "Pocions")

# Poden fer servir el mètode 'saludar' heretat de Mag
print(estudiant.saludar())
print(professor.saludar())
</code></pre>
                    </div>
                </div>
            </section>

            <!-- Secció 4: Polimorfisme -->
            <section id="polimorfisme">
                 <h2 class="text-2xl font-bold text-[#2156A0] border-b-2 border-[#4FCCE8] pb-2 mb-4">4. Polimorfisme i Sobreescriptura de Mètodes</h2>
                <div class="space-y-6 bg-white p-6 rounded-lg shadow">
                    <p>El <strong class="font-semibold">polimorfisme</strong> (del grec, "moltes formes") és la capacitat dels objectes de diferents classes de respondre al mateix missatge (a la mateixa crida de mètode) de maneres diferents.</p>
                    
                    <div>
                        <h3 class="text-xl font-semibold mb-2">4.1. Sobreescriptura de Mètodes</h3>
                        <p>Una subclasse pot modificar el comportament d'un mètode heretat. Això s'anomena <strong class="font-semibold">sobreescriptura</strong>. Simplement, definim a la subclasse un mètode amb el mateix nom que el de la superclasse.</p>
                        <p class="mt-2">Continuant amb l'exemple anterior, podem fer que cada tipus de mag tingui un encanteri diferent:</p>
                        <div class="code-block mt-4">
<pre><code>class Mag:
    def __init__(self, nom):
        self.nom = nom
    
    def atacar(self):
        print(f"{self.nom} llança un encanteri bàsic!")

class Estudiant(Mag):
    # Sobreescrivim el mètode 'atacar'
    def atacar(self):
        print(f"{self.nom} llança un 'Expelliarmus'!")

class Professor(Mag):
    # Sobreescrivim el mètode 'atacar'
    def atacar(self):
        print(f"{self.nom} conjura un 'Protego Maxima'!")

# Creem una llista amb diferents tipus de mags
mags = [
    Estudiant("Harry", "Gryffindor"),
    Professor("Snape", "Pocions"),
    Mag("Un mag qualsevol")
]

# El polimorfisme en acció:
# Cridem al mateix mètode 'atacar()', però cada objecte respon a la seva manera.
for mag in mags:
    mag.atacar()
</code></pre>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer class="text-center mt-12 py-4 border-t border-slate-200 text-sm text-slate-500 space-y-2">
            <p>&copy; 2025 Vicent Cardona. Departament de tecnologia. IES Quartó de Portmany</p>
            <p>Aquesta obra està subjecta a una llicència de Creative Commons
                <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="text-blue-600 hover:underline">CC BY-NC-SA 4.0</a>
            </p>
            <p>
                <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                    <img src="https://licensebuttons.net/l/by-nc-sa/4.0/88x31.png" alt="Llicència de Creative Commons" class="inline-block">
                </a>
            </p>
        </footer>

    </div>
</body>
</html>
